<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1> 화살표함수(람다) </h1>
</body>
</html>
<script>

  //배열 전체 데이터 입력
  let person = [
    { name: "홍길동", age:"11", "phone":"010-0000-0000" },
    { name: "임꺽정", age:"21", "phone":"010-1111-0001" },
    { name: "장길산", age:"41", "phone":"010-0000-0009" },
    { name: "이순신", age:"22", "phone":"010-0000-0008" },
    { name: "강감찬", age:"15", "phone":"010-0000-0007" },
    { name: "윤성일", age:"27", "phone":"010-0000-00006" },
    { name: "서희", age:"18", "phone":"010-0000-0005" },
    { name: "윤관", age:"49", "phone":"010-0000-0004" },
    { name: "김종서", age:"60", "phone":"010-0000-0003" },
    { name: "척준경", age:"34", "phone":"010-0000-0002" },
  ];

  //배열에 데이터 추가하기
  person.push({name:"김성훈", age:43, phone:"010-9999-8899"});

  //배열 전체 읽기
  person.forEach( (p)=> {
    console.log(`${p.name} ${p.age} ${p.phone}`);
  });

  // 문제1. 성이 윤씨인 사람 찾아내기 
  // p에는 JSON 객체가 전달
  result = person.filter(p =>  p.name.startsWith("윤") );
  console.log(result);

  // 19세 미만 찾기
  let ageLess19 = person.filter( p => p.age <= 19 ); //미성년
  let ageMore19 = person.filter( p => p.age > 19 ); //성년

  console.log(ageLess19);
  console.log(ageMore19);

  // 정렬 - 데이터를 순서대로 늘어놓는다. (오름차순, 내림차순)
  // let sorted = person.sort( p=> p.name);
  // console.log(sorted); 
  // 이렇게 하면 정렬이 안먹음 compareFunction이라는 걸 써야함

  let sorted = person.sort( (p1,p2) => p1.age - p2.age);
  //-음수, 0 , 양수 두 객체를 비교할 때 
  // 앞 값이 작으면 음수( -1일 수도 있고 다른 음수일 수도 있음)
  // 둘이 같으면 0
  // 뒤의 값이 크면 양수를 반환
  console.log( sorted );

  // 그럼 이름 순은?
  let sorted2 = person.sort( (p1,p2) => {
    if ( p1.name > p2.name ) // 이름이 크냐는 것은 사전상에서 더 앞쪽이냐 ( 홍길동이 사전에서 뒤 쪽이니 더 작은수)
      return 1;
    else if ( p1.name < p2.name) 
      return -1;
    else 
      return 0;
  });

  console.log( sorted );
  

</script>